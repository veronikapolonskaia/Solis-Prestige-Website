
> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
SIGINT received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'postgres'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[0mGET /api/auth/me [33m401[0m 4.050 ms - 42[0m
[0mGET /api/auth/me [33m401[0m 1.560 ms - 42[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'admin@ecommerce.com';
Executing (default): UPDATE "users" SET "last_login"=$1,"updated_at"=$2 WHERE "id" = $3
[0mPOST /api/auth/login [32m200[0m 338.228 ms - 585[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT DATE("Order"."created_at") AS "date", COUNT("Order"."id") AS "orderCount", SUM("Order"."total") AS "totalSales", AVG("Order"."total") AS "averageOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:49.533 +00:00' AND '2025-10-31 05:54:49.533 +00:00' GROUP BY DATE("Order"."created_at") ORDER BY DATE("Order"."created_at") ASC;
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 1 OFFSET 0;
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
[0mGET /api/users?role=customer&status=active&page=1&limit=1 [36m304[0m 38.940 ms - -[0m
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" DESC LIMIT 1 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" DESC;
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT COUNT("Order"."id") AS "totalOrders", SUM("Order"."total") AS "totalRevenue", AVG("Order"."total") AS "averageOrderValue", MIN("Order"."total") AS "minOrderValue", MAX("Order"."total") AS "maxOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:49.533 +00:00' AND '2025-10-31 05:54:49.533 +00:00' LIMIT 1;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "payment_method" AS "paymentMethod", COUNT("Order"."id") AS "count", SUM("Order"."total") AS "total" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:49.533 +00:00' AND '2025-10-31 05:54:49.533 +00:00' GROUP BY "paymentMethod";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 1 OFFSET 0;
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
[0mGET /api/analytics/sales?period=monthly&groupBy=day [32m200[0m 62.861 ms - 369[0m
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
[0mGET /api/users?role=customer&status=active&page=1&limit=1 [36m304[0m 20.360 ms - -[0m
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/products?page=1&limit=1 [36m304[0m 65.660 ms - -[0m
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'pending';
Executing (default): SELECT DATE("Order"."created_at") AS "date", COUNT("Order"."id") AS "orderCount", SUM("Order"."total") AS "totalSales", AVG("Order"."total") AS "averageOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:49.588 +00:00' AND '2025-10-31 05:54:49.588 +00:00' GROUP BY DATE("Order"."created_at") ORDER BY DATE("Order"."created_at") ASC;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "products" AS "Product" WHERE "Product"."quantity" <= 10 AND "Product"."track_quantity" = true AND "Product"."is_active" = true;
Executing (default): SELECT COUNT("Order"."id") AS "totalOrders", SUM("Order"."total") AS "totalRevenue", AVG("Order"."total") AS "averageOrderValue", MIN("Order"."total") AS "minOrderValue", MAX("Order"."total") AS "maxOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:49.588 +00:00' AND '2025-10-31 05:54:49.588 +00:00' LIMIT 1;
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" DESC LIMIT 1 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" DESC;
Executing (default): SELECT "payment_method" AS "paymentMethod", COUNT("Order"."id") AS "count", SUM("Order"."total") AS "total" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:49.588 +00:00' AND '2025-10-31 05:54:49.588 +00:00' GROUP BY "paymentMethod";
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."status" NOT IN ('cancelled') ORDER BY "createdAt" DESC LIMIT 5;
[0mGET /api/analytics/sales?period=monthly&groupBy=day [32m200[0m 20.880 ms - 369[0m
[0mGET /api/products?page=1&limit=1 [36m304[0m 14.281 ms - -[0m
Executing (default): SELECT "OrderItem"."product_id" AS "productId", SUM("OrderItem"."quantity") AS "totalQuantity", SUM("OrderItem"."total") AS "totalRevenue", "product"."id" AS "product.id", "product"."name" AS "product.name", "product"."slug" AS "product.slug" FROM "order_items" AS "OrderItem" INNER JOIN "orders" AS "order" ON "OrderItem"."order_id" = "order"."id" AND "order"."status" NOT IN ('cancelled') AND "order"."created_at" >= '2025-10-01 05:54:49.526 +00:00' LEFT OUTER JOIN "products" AS "product" ON "OrderItem"."product_id" = "product"."id" GROUP BY "productId", "product"."id", "product"."name", "product"."slug" ORDER BY SUM("OrderItem"."total") DESC LIMIT 5;
[0mGET /api/analytics/dashboard [32m200[0m 104.199 ms - 509[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'pending';
Executing (default): SELECT count(*) AS "count" FROM "products" AS "Product" WHERE "Product"."quantity" <= 10 AND "Product"."track_quantity" = true AND "Product"."is_active" = true;
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."status" NOT IN ('cancelled') ORDER BY "createdAt" DESC LIMIT 5;
Executing (default): SELECT "OrderItem"."product_id" AS "productId", SUM("OrderItem"."quantity") AS "totalQuantity", SUM("OrderItem"."total") AS "totalRevenue", "product"."id" AS "product.id", "product"."name" AS "product.name", "product"."slug" AS "product.slug" FROM "order_items" AS "OrderItem" INNER JOIN "orders" AS "order" ON "OrderItem"."order_id" = "order"."id" AND "order"."status" NOT IN ('cancelled') AND "order"."created_at" >= '2025-10-01 05:54:49.617 +00:00' LEFT OUTER JOIN "products" AS "product" ON "OrderItem"."product_id" = "product"."id" GROUP BY "productId", "product"."id", "product"."name", "product"."slug" ORDER BY SUM("OrderItem"."total") DESC LIMIT 5;
[0mGET /api/analytics/dashboard [36m304[0m 21.754 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count("Order"."id") AS "count" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id";
Executing (default): SELECT "Order".*, "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."product_id" AS "items.productId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "items->product"."id" AS "items.product.id", "items->product"."name" AS "items.product.name", "items->product"."slug" AS "items.product.slug", "items->variant"."id" AS "items.variant.id", "items->variant"."name" AS "items.variant.name" FROM (SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt" FROM "orders" AS "Order" ORDER BY "Order"."created_at" DESC LIMIT 10 OFFSET 0) AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."userId" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" ORDER BY "createdAt" DESC;
[0mGET /api/orders?page=1&limit=10&search=&status=&paymentStatus=&dateRange= [36m304[0m 12.781 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count("Order"."id") AS "count" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id";
Executing (default): SELECT "Order".*, "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."product_id" AS "items.productId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "items->product"."id" AS "items.product.id", "items->product"."name" AS "items.product.name", "items->product"."slug" AS "items.product.slug", "items->variant"."id" AS "items.variant.id", "items->variant"."name" AS "items.variant.name" FROM (SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt" FROM "orders" AS "Order" ORDER BY "Order"."created_at" DESC LIMIT 10 OFFSET 0) AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."userId" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" ORDER BY "createdAt" DESC;
[0mGET /api/orders?page=1&limit=10&search=&status=&paymentStatus=&dateRange= [36m304[0m 9.342 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Category"."id", "Category"."name", "Category"."slug", "Category"."description", "Category"."image", "Category"."parent_id" AS "parentId", "Category"."is_active" AS "isActive", "Category"."sort_order" AS "sortOrder", "Category"."meta_title" AS "metaTitle", "Category"."meta_description" AS "metaDescription", "Category"."created_at" AS "createdAt", "Category"."updated_at" AS "updatedAt", "children"."id" AS "children.id", "children"."name" AS "children.name", "children"."slug" AS "children.slug", "children"."description" AS "children.description", "children"."image" AS "children.image", "children"."parent_id" AS "children.parentId", "children"."is_active" AS "children.isActive", "children"."sort_order" AS "children.sortOrder", "children"."meta_title" AS "children.metaTitle", "children"."meta_description" AS "children.metaDescription", "children"."created_at" AS "children.createdAt", "children"."updated_at" AS "children.updatedAt" FROM "categories" AS "Category" LEFT OUTER JOIN "categories" AS "children" ON "Category"."id" = "children"."parent_id" AND "children"."is_active" = true WHERE "Category"."is_active" = true ORDER BY "sortOrder" ASC, "Category"."name" ASC;
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" ASC LIMIT 10 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" ASC;
[0mGET /api/categories [36m304[0m 11.751 ms - -[0m
[0mGET /api/products?page=1&limit=10&search=&category=&sortOrder=asc [36m304[0m 12.763 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Category"."id", "Category"."name", "Category"."slug", "Category"."description", "Category"."image", "Category"."parent_id" AS "parentId", "Category"."is_active" AS "isActive", "Category"."sort_order" AS "sortOrder", "Category"."meta_title" AS "metaTitle", "Category"."meta_description" AS "metaDescription", "Category"."created_at" AS "createdAt", "Category"."updated_at" AS "updatedAt", "children"."id" AS "children.id", "children"."name" AS "children.name", "children"."slug" AS "children.slug", "children"."description" AS "children.description", "children"."image" AS "children.image", "children"."parent_id" AS "children.parentId", "children"."is_active" AS "children.isActive", "children"."sort_order" AS "children.sortOrder", "children"."meta_title" AS "children.metaTitle", "children"."meta_description" AS "children.metaDescription", "children"."created_at" AS "children.createdAt", "children"."updated_at" AS "children.updatedAt" FROM "categories" AS "Category" LEFT OUTER JOIN "categories" AS "children" ON "Category"."id" = "children"."parent_id" AND "children"."is_active" = true WHERE "Category"."is_active" = true ORDER BY "sortOrder" ASC, "Category"."name" ASC;
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" ASC LIMIT 10 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" ASC;
[0mGET /api/categories [36m304[0m 10.065 ms - -[0m
[0mGET /api/products?page=1&limit=10&search=&category=&sortOrder=asc [36m304[0m 11.047 ms - -[0m
[0mGET /uploads/1758094614717-1fctsh.jpg [36m304[0m 1.572 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT DATE("Order"."created_at") AS "date", COUNT("Order"."id") AS "orderCount", SUM("Order"."total") AS "totalSales", AVG("Order"."total") AS "averageOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:57.891 +00:00' AND '2025-10-31 05:54:57.891 +00:00' GROUP BY DATE("Order"."created_at") ORDER BY DATE("Order"."created_at") ASC;
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 1 OFFSET 0;
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'pending';
Executing (default): SELECT COUNT("Order"."id") AS "totalOrders", SUM("Order"."total") AS "totalRevenue", AVG("Order"."total") AS "averageOrderValue", MIN("Order"."total") AS "minOrderValue", MAX("Order"."total") AS "maxOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:57.891 +00:00' AND '2025-10-31 05:54:57.891 +00:00' LIMIT 1;
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" DESC LIMIT 1 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" DESC;
Executing (default): SELECT count(*) AS "count" FROM "products" AS "Product" WHERE "Product"."quantity" <= 10 AND "Product"."track_quantity" = true AND "Product"."is_active" = true;
Executing (default): SELECT "payment_method" AS "paymentMethod", COUNT("Order"."id") AS "count", SUM("Order"."total") AS "total" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:57.891 +00:00' AND '2025-10-31 05:54:57.891 +00:00' GROUP BY "paymentMethod";
[0mGET /api/users?role=customer&status=active&page=1&limit=1 [36m304[0m 15.061 ms - -[0m
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."status" NOT IN ('cancelled') ORDER BY "createdAt" DESC LIMIT 5;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "OrderItem"."product_id" AS "productId", SUM("OrderItem"."quantity") AS "totalQuantity", SUM("OrderItem"."total") AS "totalRevenue", "product"."id" AS "product.id", "product"."name" AS "product.name", "product"."slug" AS "product.slug" FROM "order_items" AS "OrderItem" INNER JOIN "orders" AS "order" ON "OrderItem"."order_id" = "order"."id" AND "order"."status" NOT IN ('cancelled') AND "order"."created_at" >= '2025-10-01 05:54:57.876 +00:00' LEFT OUTER JOIN "products" AS "product" ON "OrderItem"."product_id" = "product"."id" GROUP BY "productId", "product"."id", "product"."name", "product"."slug" ORDER BY SUM("OrderItem"."total") DESC LIMIT 5;
[0mGET /api/analytics/sales?period=monthly&groupBy=day [32m200[0m 25.205 ms - 369[0m
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 1 OFFSET 0;
[0mGET /api/analytics/dashboard [36m304[0m 39.456 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/products?page=1&limit=1 [36m304[0m 28.203 ms - -[0m
Executing (default): SELECT DATE("Order"."created_at") AS "date", COUNT("Order"."id") AS "orderCount", SUM("Order"."total") AS "totalSales", AVG("Order"."total") AS "averageOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:57.918 +00:00' AND '2025-10-31 05:54:57.918 +00:00' GROUP BY DATE("Order"."created_at") ORDER BY DATE("Order"."created_at") ASC;
[0mGET /api/users?role=customer&status=active&page=1&limit=1 [36m304[0m 15.058 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT COUNT("Order"."id") AS "totalOrders", SUM("Order"."total") AS "totalRevenue", AVG("Order"."total") AS "averageOrderValue", MIN("Order"."total") AS "minOrderValue", MAX("Order"."total") AS "maxOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:57.918 +00:00' AND '2025-10-31 05:54:57.918 +00:00' LIMIT 1;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "payment_method" AS "paymentMethod", COUNT("Order"."id") AS "count", SUM("Order"."total") AS "total" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 05:54:57.918 +00:00' AND '2025-10-31 05:54:57.918 +00:00' GROUP BY "paymentMethod";
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
[0mGET /api/analytics/sales?period=monthly&groupBy=day [32m200[0m 13.531 ms - 369[0m
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" DESC LIMIT 1 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" DESC;
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
[0mGET /api/products?page=1&limit=1 [36m304[0m 9.724 ms - -[0m
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'pending';
Executing (default): SELECT count(*) AS "count" FROM "products" AS "Product" WHERE "Product"."quantity" <= 10 AND "Product"."track_quantity" = true AND "Product"."is_active" = true;
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."status" NOT IN ('cancelled') ORDER BY "createdAt" DESC LIMIT 5;
Executing (default): SELECT "OrderItem"."product_id" AS "productId", SUM("OrderItem"."quantity") AS "totalQuantity", SUM("OrderItem"."total") AS "totalRevenue", "product"."id" AS "product.id", "product"."name" AS "product.name", "product"."slug" AS "product.slug" FROM "order_items" AS "OrderItem" INNER JOIN "orders" AS "order" ON "OrderItem"."order_id" = "order"."id" AND "order"."status" NOT IN ('cancelled') AND "order"."created_at" >= '2025-10-01 05:54:57.926 +00:00' LEFT OUTER JOIN "products" AS "product" ON "OrderItem"."product_id" = "product"."id" GROUP BY "productId", "product"."id", "product"."name", "product"."slug" ORDER BY SUM("OrderItem"."total") DESC LIMIT 5;
[0mGET /api/analytics/dashboard [36m304[0m 25.058 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Category"."id", "Category"."name", "Category"."slug", "Category"."description", "Category"."image", "Category"."parent_id" AS "parentId", "Category"."is_active" AS "isActive", "Category"."sort_order" AS "sortOrder", "Category"."meta_title" AS "metaTitle", "Category"."meta_description" AS "metaDescription", "Category"."created_at" AS "createdAt", "Category"."updated_at" AS "updatedAt", "children"."id" AS "children.id", "children"."name" AS "children.name", "children"."slug" AS "children.slug", "children"."description" AS "children.description", "children"."image" AS "children.image", "children"."parent_id" AS "children.parentId", "children"."is_active" AS "children.isActive", "children"."sort_order" AS "children.sortOrder", "children"."meta_title" AS "children.metaTitle", "children"."meta_description" AS "children.metaDescription", "children"."created_at" AS "children.createdAt", "children"."updated_at" AS "children.updatedAt" FROM "categories" AS "Category" LEFT OUTER JOIN "categories" AS "children" ON "Category"."id" = "children"."parent_id" AND "children"."is_active" = true WHERE "Category"."is_active" = true ORDER BY "sortOrder" ASC, "Category"."name" ASC;
[0mGET /api/categories [36m304[0m 6.751 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Category"."id", "Category"."name", "Category"."slug", "Category"."description", "Category"."image", "Category"."parent_id" AS "parentId", "Category"."is_active" AS "isActive", "Category"."sort_order" AS "sortOrder", "Category"."meta_title" AS "metaTitle", "Category"."meta_description" AS "metaDescription", "Category"."created_at" AS "createdAt", "Category"."updated_at" AS "updatedAt", "children"."id" AS "children.id", "children"."name" AS "children.name", "children"."slug" AS "children.slug", "children"."description" AS "children.description", "children"."image" AS "children.image", "children"."parent_id" AS "children.parentId", "children"."is_active" AS "children.isActive", "children"."sort_order" AS "children.sortOrder", "children"."meta_title" AS "children.metaTitle", "children"."meta_description" AS "children.metaDescription", "children"."created_at" AS "children.createdAt", "children"."updated_at" AS "children.updatedAt" FROM "categories" AS "Category" LEFT OUTER JOIN "categories" AS "children" ON "Category"."id" = "children"."parent_id" AND "children"."is_active" = true WHERE "Category"."is_active" = true ORDER BY "sortOrder" ASC, "Category"."name" ASC;
[0mGET /api/categories [36m304[0m 5.411 ms - -[0m
[0mGET /api/gallery/categories [36m304[0m 0.419 ms - -[0m
Executing (default): SELECT count(*) AS "count" FROM "galleries" AS "Gallery" WHERE "Gallery"."status" = 'active';
Executing (default): SELECT "id", "title", "description", "image_url", "thumbnail_url", "category", "featured", "display_order", "alt_text", "tags", "metadata", "status", "created_at", "updated_at" FROM "galleries" AS "Gallery" WHERE "Gallery"."status" = 'active' ORDER BY "Gallery"."display_order" ASC, "Gallery"."created_at" DESC LIMIT 12 OFFSET 0;
[0mGET /api/gallery/categories [36m304[0m 0.324 ms - -[0m
[0mGET /api/gallery?page=1&limit=12 [36m304[0m 5.192 ms - -[0m
Executing (default): SELECT count(*) AS "count" FROM "galleries" AS "Gallery" WHERE "Gallery"."status" = 'active';
Executing (default): SELECT "id", "title", "description", "image_url", "thumbnail_url", "category", "featured", "display_order", "alt_text", "tags", "metadata", "status", "created_at", "updated_at" FROM "galleries" AS "Gallery" WHERE "Gallery"."status" = 'active' ORDER BY "Gallery"."display_order" ASC, "Gallery"."created_at" DESC LIMIT 12 OFFSET 0;
[0mGET /api/gallery?page=1&limit=12 [36m304[0m 3.134 ms - -[0m
[0mGET /uploads/gallery/gallery-1758533338579-812964432.jpg [32m200[0m 1.754 ms - 437003[0m
SIGINT received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';
Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));
Executing (default): CREATE TABLE IF NOT EXISTS "users" ("id" UUID , "email" VARCHAR(255) NOT NULL UNIQUE, "password" VARCHAR(255) NOT NULL, "first_name" VARCHAR(255) NOT NULL, "last_name" VARCHAR(255) NOT NULL, "phone" VARCHAR(255), "role" "public"."enum_users_role" DEFAULT 'customer', "is_active" BOOLEAN DEFAULT true, "email_verified" BOOLEAN DEFAULT false, "last_login" TIMESTAMP WITH TIME ZONE, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): CREATE TABLE IF NOT EXISTS "categories" ("id" UUID , "name" VARCHAR(255) NOT NULL, "slug" VARCHAR(255) NOT NULL UNIQUE, "description" TEXT, "image" VARCHAR(255), "parent_id" UUID REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "is_active" BOOLEAN DEFAULT true, "sort_order" INTEGER DEFAULT 0, "meta_title" VARCHAR(255), "meta_description" TEXT, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): CREATE TABLE IF NOT EXISTS "products" ("id" UUID , "name" VARCHAR(255) NOT NULL, "slug" VARCHAR(255) NOT NULL UNIQUE, "description" TEXT, "short_description" TEXT, "sku" VARCHAR(255) NOT NULL UNIQUE, "price" DECIMAL(10,2) NOT NULL DEFAULT 0, "compare_price" DECIMAL(10,2), "cost_price" DECIMAL(10,2), "track_quantity" BOOLEAN DEFAULT true, "quantity" INTEGER DEFAULT 0, "weight" DECIMAL(8,2), "taxable" BOOLEAN DEFAULT true, "is_active" BOOLEAN DEFAULT true, "meta_title" VARCHAR(255), "meta_description" TEXT, "category_id" UUID REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): CREATE TABLE IF NOT EXISTS "product_images" ("id" UUID , "product_id" UUID NOT NULL REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "url" VARCHAR(255) NOT NULL, "alt_text" VARCHAR(255), "sort_order" INTEGER DEFAULT 0, "is_main" BOOLEAN DEFAULT false, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): CREATE TABLE IF NOT EXISTS "product_variants" ("id" UUID , "product_id" UUID NOT NULL REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "name" VARCHAR(255) NOT NULL, "sku" VARCHAR(255) NOT NULL UNIQUE, "price" DECIMAL(10,2) NOT NULL DEFAULT 0, "quantity" INTEGER DEFAULT 0, "weight" DECIMAL(8,2), "image" VARCHAR(255), "attributes" JSONB DEFAULT '{}', "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';
Executing (default): DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';
Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));
Executing (default): CREATE TABLE IF NOT EXISTS "orders" ("id" UUID , "user_id" UUID REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "order_number" VARCHAR(255) NOT NULL UNIQUE, "status" "public"."enum_orders_status" DEFAULT 'pending', "subtotal" DECIMAL(10,2) NOT NULL DEFAULT 0, "tax_amount" DECIMAL(10,2) NOT NULL DEFAULT 0, "shipping_amount" DECIMAL(10,2) NOT NULL DEFAULT 0, "discount_amount" DECIMAL(10,2) NOT NULL DEFAULT 0, "total" DECIMAL(10,2) NOT NULL DEFAULT 0, "currency" VARCHAR(255) DEFAULT 'USD', "payment_status" "public"."enum_orders_payment_status" DEFAULT 'pending', "payment_method" VARCHAR(255), "shipping_address" JSONB NOT NULL, "billing_address" JSONB NOT NULL, "notes" TEXT, "tracking_number" VARCHAR(255), "shipped_at" TIMESTAMP WITH TIME ZONE, "delivered_at" TIMESTAMP WITH TIME ZONE, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): CREATE TABLE IF NOT EXISTS "order_items" ("id" UUID , "order_id" UUID NOT NULL REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "product_id" UUID NOT NULL REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "variant_id" UUID REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "quantity" INTEGER NOT NULL DEFAULT 1, "price" DECIMAL(10,2) NOT NULL, "total" DECIMAL(10,2) NOT NULL, "product_name" VARCHAR(255) NOT NULL, "variant_name" VARCHAR(255), "sku" VARCHAR(255) NOT NULL, "weight" DECIMAL(8,2), "attributes" JSONB DEFAULT '{}', "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): CREATE TABLE IF NOT EXISTS "carts" ("id" UUID , "user_id" UUID REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "session_id" VARCHAR(255), "product_id" UUID NOT NULL REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "variant_id" UUID REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE, "quantity" INTEGER NOT NULL DEFAULT 1, "price" DECIMAL(10,2) NOT NULL, "attributes" JSONB DEFAULT '{}', "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';
Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));
Executing (default): CREATE TABLE IF NOT EXISTS "addresses" ("id" UUID , "user_id" UUID NOT NULL REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE, "type" "public"."enum_addresses_type" NOT NULL, "first_name" VARCHAR(255) NOT NULL, "last_name" VARCHAR(255) NOT NULL, "company" VARCHAR(255), "address1" VARCHAR(255) NOT NULL, "address2" VARCHAR(255), "city" VARCHAR(255) NOT NULL, "state" VARCHAR(255) NOT NULL, "zip_code" VARCHAR(255) NOT NULL, "country" VARCHAR(255) NOT NULL DEFAULT 'US', "phone" VARCHAR(255), "is_default" BOOLEAN DEFAULT false, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): CREATE TABLE IF NOT EXISTS "settings" ("id" UUID , "key" VARCHAR(255) NOT NULL UNIQUE, "value" JSONB NOT NULL, "category" VARCHAR(255) NOT NULL DEFAULT 'general', "description" TEXT, "is_public" BOOLEAN DEFAULT false, "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';
Executing (default): DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';
Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));
Executing (default): CREATE TABLE IF NOT EXISTS "galleries" ("id"  SERIAL , "title" VARCHAR(255) NOT NULL, "description" TEXT, "image_url" VARCHAR(500) NOT NULL, "thumbnail_url" VARCHAR(500), "category" "public"."enum_galleries_category" NOT NULL DEFAULT 'other', "featured" BOOLEAN NOT NULL DEFAULT false, "display_order" INTEGER NOT NULL DEFAULT 0, "alt_text" VARCHAR(255), "tags" JSON DEFAULT '[]', "metadata" JSON DEFAULT '{}', "status" "public"."enum_galleries_status" NOT NULL DEFAULT 'active', "created_at" TIMESTAMP WITH TIME ZONE NOT NULL, "updated_at" TIMESTAMP WITH TIME ZONE NOT NULL, PRIMARY KEY ("id"));
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): CREATE INDEX "galleries_category" ON "galleries" ("category")
Executing (default): CREATE INDEX "galleries_featured" ON "galleries" ("featured")
Executing (default): CREATE INDEX "galleries_status" ON "galleries" ("status")
Executing (default): CREATE INDEX "galleries_display_order" ON "galleries" ("display_order")
Database initialized successfully
[0mPOST /api/auth/register [33m400[0m 7.483 ms - 147[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'hurairaidrees@gmail.com';
Executing (default): INSERT INTO "users" ("id","email","password","first_name","last_name","role","is_active","email_verified","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10) RETURNING "id","email","password","first_name","last_name","phone","role","is_active","email_verified","last_login","created_at","updated_at";
[0mPOST /api/auth/register [32m201[0m 335.563 ms - 570[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/auth/me [33m401[0m 3.311 ms - 70[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/auth/me [33m401[0m 2.203 ms - 70[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'admin@ecommerce.com';
[0mPOST /api/auth/login [33m401[0m 2.577 ms - 47[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'admin@ecommerce.com';
[0mPOST /api/auth/login [33m401[0m 1.661 ms - 47[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'admin@ecommerce.com';
[0mPOST /api/auth/login [33m401[0m 1.629 ms - 47[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'admin@ecommerce.com';
Executing (default): UPDATE "users" SET "last_login"=$1,"updated_at"=$2 WHERE "id" = $3
[0mPOST /api/auth/login [32m200[0m 314.627 ms - 585[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 1 OFFSET 0;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/users?role=customer&status=active&page=1&limit=1 [32m200[0m 26.315 ms - 459[0m
Executing (default): SELECT DATE("Order"."created_at") AS "date", COUNT("Order"."id") AS "orderCount", SUM("Order"."total") AS "totalSales", AVG("Order"."total") AS "averageOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 06:09:51.247 +00:00' AND '2025-10-31 06:09:51.247 +00:00' GROUP BY DATE("Order"."created_at") ORDER BY DATE("Order"."created_at") ASC;
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" DESC LIMIT 1 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" DESC;
Executing (default): SELECT COUNT("Order"."id") AS "totalOrders", SUM("Order"."total") AS "totalRevenue", AVG("Order"."total") AS "averageOrderValue", MIN("Order"."total") AS "minOrderValue", MAX("Order"."total") AS "maxOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 06:09:51.247 +00:00' AND '2025-10-31 06:09:51.247 +00:00' LIMIT 1;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/products?page=1&limit=1 [32m200[0m 28.546 ms - -[0m
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT "payment_method" AS "paymentMethod", COUNT("Order"."id") AS "count", SUM("Order"."total") AS "total" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 06:09:51.247 +00:00' AND '2025-10-31 06:09:51.247 +00:00' GROUP BY "paymentMethod";
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."role" = 'customer' AND "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 1 OFFSET 0;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
[0mGET /api/analytics/sales?period=monthly&groupBy=day [32m200[0m 56.415 ms - 700[0m
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(DISTINCT("Product"."id")) AS "count" FROM "products" AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."category_id" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true WHERE "Product"."is_active" = true;
Executing (default): SELECT "Product".*, "category"."id" AS "category.id", "category"."name" AS "category.name", "category"."slug" AS "category.slug", "images"."id" AS "images.id", "images"."url" AS "images.url", "images"."alt_text" AS "images.altText", "images"."is_main" AS "images.isMain" FROM (SELECT "Product"."id", "Product"."name", "Product"."slug", "Product"."description", "Product"."short_description" AS "shortDescription", "Product"."sku", "Product"."price", "Product"."compare_price" AS "comparePrice", "Product"."cost_price" AS "costPrice", "Product"."track_quantity" AS "trackQuantity", "Product"."quantity", "Product"."weight", "Product"."taxable", "Product"."is_active" AS "isActive", "Product"."meta_title" AS "metaTitle", "Product"."meta_description" AS "metaDescription", "Product"."category_id" AS "categoryId", "Product"."created_at" AS "createdAt", "Product"."updated_at" AS "updatedAt" FROM "products" AS "Product" WHERE "Product"."is_active" = true ORDER BY "Product"."created_at" DESC LIMIT 1 OFFSET 0) AS "Product" LEFT OUTER JOIN "categories" AS "category" ON "Product"."categoryId" = "category"."id" LEFT OUTER JOIN "product_images" AS "images" ON "Product"."id" = "images"."product_id" AND "images"."is_main" = true ORDER BY "createdAt" DESC;
[0mGET /api/users?role=customer&status=active&page=1&limit=1 [36m304[0m 27.616 ms - -[0m
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
[0mGET /api/products?page=1&limit=1 [36m304[0m 13.798 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'pending';
Executing (default): SELECT DATE("Order"."created_at") AS "date", COUNT("Order"."id") AS "orderCount", SUM("Order"."total") AS "totalSales", AVG("Order"."total") AS "averageOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 06:09:51.298 +00:00' AND '2025-10-31 06:09:51.298 +00:00' GROUP BY DATE("Order"."created_at") ORDER BY DATE("Order"."created_at") ASC;
Executing (default): SELECT count(*) AS "count" FROM "products" AS "Product" WHERE "Product"."quantity" <= 10 AND "Product"."track_quantity" = true AND "Product"."is_active" = true;
Executing (default): SELECT COUNT("Order"."id") AS "totalOrders", SUM("Order"."total") AS "totalRevenue", AVG("Order"."total") AS "averageOrderValue", MIN("Order"."total") AS "minOrderValue", MAX("Order"."total") AS "maxOrderValue" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 06:09:51.298 +00:00' AND '2025-10-31 06:09:51.298 +00:00' LIMIT 1;
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."status" NOT IN ('cancelled') ORDER BY "createdAt" DESC LIMIT 5;
Executing (default): SELECT "payment_method" AS "paymentMethod", COUNT("Order"."id") AS "count", SUM("Order"."total") AS "total" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2024-10-31 06:09:51.298 +00:00' AND '2025-10-31 06:09:51.298 +00:00' GROUP BY "paymentMethod";
Executing (default): SELECT "OrderItem"."product_id" AS "productId", SUM("OrderItem"."quantity") AS "totalQuantity", SUM("OrderItem"."total") AS "totalRevenue", "product"."id" AS "product.id", "product"."name" AS "product.name", "product"."slug" AS "product.slug" FROM "order_items" AS "OrderItem" INNER JOIN "orders" AS "order" ON "OrderItem"."order_id" = "order"."id" AND "order"."status" NOT IN ('cancelled') AND "order"."created_at" >= '2025-10-01 06:09:51.233 +00:00' LEFT OUTER JOIN "products" AS "product" ON "OrderItem"."product_id" = "product"."id" GROUP BY "productId", "product"."id", "product"."name", "product"."slug" ORDER BY SUM("OrderItem"."total") DESC LIMIT 5;
[0mGET /api/analytics/sales?period=monthly&groupBy=day [32m200[0m 13.023 ms - 700[0m
[0mGET /api/analytics/dashboard [32m200[0m 86.162 ms - 936[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-10-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" >= '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT sum("total") AS "sum" FROM "orders" AS "Order" WHERE "Order"."status" NOT IN ('cancelled') AND "Order"."created_at" BETWEEN '2025-08-31 19:00:00.000 +00:00' AND '2025-09-30 19:00:00.000 +00:00';
Executing (default): SELECT count(*) AS "count" FROM "orders" AS "Order" WHERE "Order"."status" = 'pending';
Executing (default): SELECT count(*) AS "count" FROM "products" AS "Product" WHERE "Product"."quantity" <= 10 AND "Product"."track_quantity" = true AND "Product"."is_active" = true;
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."status" NOT IN ('cancelled') ORDER BY "createdAt" DESC LIMIT 5;
Executing (default): SELECT "OrderItem"."product_id" AS "productId", SUM("OrderItem"."quantity") AS "totalQuantity", SUM("OrderItem"."total") AS "totalRevenue", "product"."id" AS "product.id", "product"."name" AS "product.name", "product"."slug" AS "product.slug" FROM "order_items" AS "OrderItem" INNER JOIN "orders" AS "order" ON "OrderItem"."order_id" = "order"."id" AND "order"."status" NOT IN ('cancelled') AND "order"."created_at" >= '2025-10-01 06:09:51.313 +00:00' LEFT OUTER JOIN "products" AS "product" ON "OrderItem"."product_id" = "product"."id" GROUP BY "productId", "product"."id", "product"."name", "product"."slug" ORDER BY SUM("OrderItem"."total") DESC LIMIT 5;
[0mGET /api/analytics/dashboard [36m304[0m 14.423 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 10 OFFSET 0;
[0mGET /api/users?page=1&limit=10&search=&status=&dateRange= [32m200[0m 4.626 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(*) AS "count" FROM "users" AS "User" WHERE "User"."is_active" = true;
Executing (default): SELECT "id", "email", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."is_active" = true ORDER BY "createdAt" DESC LIMIT 10 OFFSET 0;
[0mGET /api/users?page=1&limit=10&search=&status=&dateRange= [36m304[0m 5.221 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'hurairaidrees@gmail.com';
Executing (default): UPDATE "users" SET "last_login"=$1,"updated_at"=$2 WHERE "id" = $3
[0mPOST /api/auth/login [32m200[0m 299.423 ms - 597[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
[0mGET /api/auth/me [32m200[0m 9.552 ms - 331[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
[0mGET /api/auth/me [36m304[0m 1.976 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
[0mGET /api/auth/me [36m304[0m 11.291 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
[0mGET /api/auth/me [36m304[0m 2.245 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."email" = 'hurairaidrees@gmail.com';
Executing (default): UPDATE "users" SET "last_login"=$1,"updated_at"=$2 WHERE "id" = $3
[0mPOST /api/auth/login [32m200[0m 301.110 ms - 597[0m
