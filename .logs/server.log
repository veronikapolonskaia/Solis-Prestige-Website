
> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): ALTER TYPE "public"."enum_orders_status" ADD VALUE IF NOT EXISTS 'checked_out' AFTER 'refunded'
Executing (default): ALTER TYPE "public"."enum_orders_status" ADD VALUE IF NOT EXISTS 'checked_in' AFTER 'refunded'
Executing (default): ALTER TYPE "public"."enum_orders_status" ADD VALUE IF NOT EXISTS 'confirmed' AFTER 'refunded'
Executing (default): WITH ranges AS (  SELECT pg_range.rngtypid, pg_type.typname AS rngtypname,         pg_type.typarray AS rngtyparray, pg_range.rngsubtype    FROM pg_range LEFT OUTER JOIN pg_type ON pg_type.oid = pg_range.rngtypid)SELECT pg_type.typname, pg_type.typtype, pg_type.oid, pg_type.typarray,       ranges.rngtypname, ranges.rngtypid, ranges.rngtyparray  FROM pg_type LEFT OUTER JOIN ranges ON pg_type.oid = ranges.rngsubtype WHERE (pg_type.typtype IN('b', 'e'));
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "public"."orders" ADD COLUMN "booking_details" JSONB DEFAULT '{}';
Executing (default): ALTER TABLE "public"."orders" ADD COLUMN "check_in" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "public"."orders" ADD COLUMN "check_out" TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "public"."orders" ADD COLUMN "number_of_guests" INTEGER;
Executing (default): ALTER TABLE "public"."orders" ADD COLUMN "special_requests" TEXT;
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "public"."order_items" ADD COLUMN "hotel_name" VARCHAR(255);
Executing (default): ALTER TABLE "public"."order_items" ADD COLUMN "hotel_location" VARCHAR(255);
Executing (default): ALTER TABLE "public"."order_items" ADD COLUMN "booking_dates" JSONB;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id");
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
[32m[nodemon] restarting due to changes...[39m
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'users'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_users_role' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'users' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'users' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "users" ALTER COLUMN "email" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "email" DROP DEFAULT;ALTER TABLE "users"  ADD UNIQUE ("email");ALTER TABLE "users" ALTER COLUMN "email" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "users" ALTER COLUMN "password" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "password" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "password" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "users" ALTER COLUMN "role" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "role" SET DEFAULT 'customer';DO 'BEGIN CREATE TYPE "public"."enum_users_role" AS ENUM(''admin'', ''customer''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "users" ALTER COLUMN "role" TYPE "public"."enum_users_role" USING ("role"::"public"."enum_users_role");
Executing (default): ALTER TABLE "users" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "users" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "email_verified" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "email_verified" SET DEFAULT false;ALTER TABLE "users" ALTER COLUMN "email_verified" TYPE BOOLEAN;
Executing (default): ALTER TABLE "users" ALTER COLUMN "last_login" DROP NOT NULL;ALTER TABLE "users" ALTER COLUMN "last_login" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "last_login" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "users" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "users" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "users" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'users' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'categories'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'categories' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'categories' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "categories" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "categories"  ADD UNIQUE ("slug");ALTER TABLE "categories" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" DROP CONSTRAINT "categories_parent_id_fkey"
Executing (default): ALTER TABLE "categories"  ADD FOREIGN KEY ("parent_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "categories" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "categories" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "categories" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "categories" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "categories" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "categories" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'categories' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'products'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'products' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'products' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "products" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("slug");ALTER TABLE "products" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "products"  ADD UNIQUE ("sku");ALTER TABLE "products" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "products" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "compare_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "compare_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "compare_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "cost_price" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "cost_price" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "cost_price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "track_quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "track_quantity" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "track_quantity" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "products" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "products" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "products" ALTER COLUMN "taxable" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "taxable" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "taxable" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "is_active" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "products" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "products" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "products" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "products" DROP CONSTRAINT "products_category_id_fkey"
Executing (default): ALTER TABLE "products"  ADD FOREIGN KEY ("category_id") REFERENCES "categories" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "products" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "products" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "products" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'products' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_images'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_images' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_images' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_images" DROP CONSTRAINT "product_images_product_id_fkey"
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_images"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "url" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "url" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "sort_order" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "sort_order" SET DEFAULT 0;ALTER TABLE "product_images" ALTER COLUMN "sort_order" TYPE INTEGER;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "is_main" DROP NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "is_main" SET DEFAULT false;ALTER TABLE "product_images" ALTER COLUMN "is_main" TYPE BOOLEAN;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_images" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_images" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_images" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_images' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'product_variants'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'product_variants' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'product_variants' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "product_variants" DROP CONSTRAINT "product_variants_product_id_fkey"
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "product_variants"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "product_variants"  ADD UNIQUE ("sku");ALTER TABLE "product_variants" ALTER COLUMN "sku" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "price" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "quantity" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "quantity" SET DEFAULT 0;ALTER TABLE "product_variants" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "image" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "image" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "image" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "product_variants" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "product_variants" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "product_variants" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'product_variants' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'orders'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_order_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_status' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_orders_payment_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'orders' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'orders' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "orders" DROP CONSTRAINT "orders_user_id_fkey"
Executing (default): ALTER TABLE "orders"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_number" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_number" DROP DEFAULT;ALTER TABLE "orders"  ADD UNIQUE ("order_number");ALTER TABLE "orders" ALTER COLUMN "order_number" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_status" AS ENUM(''pending'', ''processing'', ''shipped'', ''delivered'', ''cancelled'', ''refunded'', ''confirmed'', ''checked_in'', ''checked_out''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "status" TYPE "public"."enum_orders_status" USING ("status"::"public"."enum_orders_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "subtotal" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "subtotal" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "subtotal" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tax_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "tax_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "shipping_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "discount_amount" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "discount_amount" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "total" SET DEFAULT 0;ALTER TABLE "orders" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "currency" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "orders" ALTER COLUMN "currency" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_status" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_status" SET DEFAULT 'pending';DO 'BEGIN CREATE TYPE "public"."enum_orders_payment_status" AS ENUM(''pending'', ''paid'', ''failed'', ''refunded''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "payment_status" TYPE "public"."enum_orders_payment_status" USING ("payment_status"::"public"."enum_orders_payment_status");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "payment_method" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "payment_method" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipping_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipping_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipping_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "billing_address" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "billing_address" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "billing_address" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "notes" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "notes" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "notes" TYPE TEXT;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "tracking_number" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "tracking_number" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "shipped_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "shipped_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "delivered_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "delivered_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "order_type" SET NOT NULL;ALTER TABLE "orders" ALTER COLUMN "order_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_orders_order_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "orders" ALTER COLUMN "order_type" TYPE "public"."enum_orders_order_type" USING ("order_type"::"public"."enum_orders_order_type");
Executing (default): ALTER TABLE "orders" ALTER COLUMN "booking_details" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "booking_details" SET DEFAULT '{}';ALTER TABLE "orders" ALTER COLUMN "booking_details" TYPE JSONB;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_in" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_in" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_in" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "check_out" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "check_out" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "check_out" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "number_of_guests" TYPE INTEGER;
Executing (default): ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP NOT NULL;ALTER TABLE "orders" ALTER COLUMN "special_requests" DROP DEFAULT;ALTER TABLE "orders" ALTER COLUMN "special_requests" TYPE TEXT;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'orders' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'hotels'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'hotels' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'hotels' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "name" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "name" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "hotels"  ADD UNIQUE ("slug");ALTER TABLE "hotels" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "location" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "location" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "city" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "country" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "country" TYPE VARCHAR(100);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "short_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "short_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "images" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "images" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "images" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "main_image" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "main_image" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "special_offer" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "special_offer" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_details" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_details" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_valid_until" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "offer_booking_deadline" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "offer_blackout_dates" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "price" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "currency" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "currency" SET DEFAULT 'USD';ALTER TABLE "hotels" ALTER COLUMN "currency" TYPE VARCHAR(3);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" SET DEFAULT '[]';ALTER TABLE "hotels" ALTER COLUMN "vip_benefits" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "hotel_details" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "hotel_details" SET DEFAULT '{}';ALTER TABLE "hotels" ALTER COLUMN "hotel_details" TYPE JSON;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "popular" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "popular" SET DEFAULT false;ALTER TABLE "hotels" ALTER COLUMN "popular" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "hotels" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "is_active" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "is_active" SET DEFAULT true;ALTER TABLE "hotels" ALTER COLUMN "is_active" TYPE BOOLEAN;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_title" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "meta_description" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "meta_description" TYPE TEXT;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "hotels" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "hotels" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "hotels" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'hotels' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_order_items_item_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'order_items' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'order_items' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_order_id_fkey"
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "order_id" SET NOT NULL;ALTER TABLE "order_items"  ADD FOREIGN KEY ("order_id") REFERENCES "orders" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_product_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_variant_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "order_items" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "total" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "total" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "total" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "product_name" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "product_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "product_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "variant_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "variant_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "sku" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "sku" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "sku" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "weight" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "weight" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "weight" TYPE DECIMAL(8,2);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "order_items" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "item_type" SET NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "item_type" SET DEFAULT 'product';DO 'BEGIN CREATE TYPE "public"."enum_order_items_item_type" AS ENUM(''product'', ''hotel''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "order_items" ALTER COLUMN "item_type" TYPE "public"."enum_order_items_item_type" USING ("item_type"::"public"."enum_order_items_item_type");
Executing (default): ALTER TABLE "order_items" DROP CONSTRAINT "order_items_hotel_id_fkey"
Executing (default): ALTER TABLE "order_items"  ADD FOREIGN KEY ("hotel_id") REFERENCES "hotels" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "hotel_location" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP NOT NULL;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" DROP DEFAULT;ALTER TABLE "order_items" ALTER COLUMN "booking_dates" TYPE JSONB;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'order_items' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'carts'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'carts' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'carts' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_user_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "session_id" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "session_id" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "session_id" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_product_id_fkey"
Executing (default): ALTER TABLE "carts" ALTER COLUMN "product_id" SET NOT NULL;ALTER TABLE "carts"  ADD FOREIGN KEY ("product_id") REFERENCES "products" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" DROP CONSTRAINT "carts_variant_id_fkey"
Executing (default): ALTER TABLE "carts"  ADD FOREIGN KEY ("variant_id") REFERENCES "product_variants" ("id") ON DELETE SET NULL ON UPDATE CASCADE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "quantity" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "quantity" SET DEFAULT 1;ALTER TABLE "carts" ALTER COLUMN "quantity" TYPE INTEGER;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "price" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "price" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "price" TYPE DECIMAL(10,2);
Executing (default): ALTER TABLE "carts" ALTER COLUMN "attributes" DROP NOT NULL;ALTER TABLE "carts" ALTER COLUMN "attributes" SET DEFAULT '{}';ALTER TABLE "carts" ALTER COLUMN "attributes" TYPE JSONB;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "carts" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "carts" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "carts" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'carts' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'addresses'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_addresses_type' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'addresses' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'addresses' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "addresses" DROP CONSTRAINT "addresses_user_id_fkey"
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "user_id" SET NOT NULL;ALTER TABLE "addresses"  ADD FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON DELETE CASCADE ON UPDATE CASCADE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "type" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "type" DROP DEFAULT;DO 'BEGIN CREATE TYPE "public"."enum_addresses_type" AS ENUM(''billing'', ''shipping''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "addresses" ALTER COLUMN "type" TYPE "public"."enum_addresses_type" USING ("type"::"public"."enum_addresses_type");
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "first_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "first_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "first_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "last_name" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "last_name" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "last_name" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "company" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "company" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "company" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address1" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address1" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address1" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "address2" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "address2" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "address2" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "city" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "city" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "city" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "state" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "state" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "state" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "zip_code" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "zip_code" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "zip_code" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "country" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "country" SET DEFAULT 'US';ALTER TABLE "addresses" ALTER COLUMN "country" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "phone" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "phone" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "phone" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "is_default" DROP NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "is_default" SET DEFAULT false;ALTER TABLE "addresses" ALTER COLUMN "is_default" TYPE BOOLEAN;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "addresses" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "addresses" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "addresses" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'addresses' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'settings'
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'settings' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'settings' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "settings" ALTER COLUMN "key" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "key" DROP DEFAULT;ALTER TABLE "settings"  ADD UNIQUE ("key");ALTER TABLE "settings" ALTER COLUMN "key" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "value" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "value" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "value" TYPE JSONB;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "category" SET DEFAULT 'general';ALTER TABLE "settings" ALTER COLUMN "category" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "settings" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "is_public" DROP NOT NULL;ALTER TABLE "settings" ALTER COLUMN "is_public" SET DEFAULT false;ALTER TABLE "settings" ALTER COLUMN "is_public" TYPE BOOLEAN;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "settings" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "settings" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "settings" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'settings' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'galleries'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_category' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_galleries_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'galleries' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'galleries' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "description" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "description" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "description" TYPE TEXT;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "image_url" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "image_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "image_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "thumbnail_url" TYPE VARCHAR(500);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "category" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "category" SET DEFAULT 'other';DO 'BEGIN CREATE TYPE "public"."enum_galleries_category" AS ENUM(''birthday'', ''corporate'', ''wedding'', ''school'', ''festival'', ''other''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "category" TYPE "public"."enum_galleries_category" USING ("category"::"public"."enum_galleries_category");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "featured" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "featured" SET DEFAULT false;ALTER TABLE "galleries" ALTER COLUMN "featured" TYPE BOOLEAN;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "display_order" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "display_order" SET DEFAULT 0;ALTER TABLE "galleries" ALTER COLUMN "display_order" TYPE INTEGER;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "alt_text" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "alt_text" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "tags" SET DEFAULT '[]';ALTER TABLE "galleries" ALTER COLUMN "tags" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "metadata" DROP NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "metadata" SET DEFAULT '{}';ALTER TABLE "galleries" ALTER COLUMN "metadata" TYPE JSON;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "status" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "status" SET DEFAULT 'active';DO 'BEGIN CREATE TYPE "public"."enum_galleries_status" AS ENUM(''active'', ''inactive'', ''draft''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "galleries" ALTER COLUMN "status" TYPE "public"."enum_galleries_status" USING ("status"::"public"."enum_galleries_status");
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "galleries" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "galleries" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "galleries" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'galleries' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Executing (default): SELECT table_name FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'editorials'
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_hero_type' GROUP BY 1
Executing (default): SELECT t.typname enum_name, array_agg(e.enumlabel ORDER BY enumsortorder) enum_value FROM pg_type t JOIN pg_enum e ON t.oid = e.enumtypid JOIN pg_catalog.pg_namespace n ON n.oid = t.typnamespace WHERE n.nspname = 'public' AND t.typname='enum_editorials_status' GROUP BY 1
Executing (default): SELECT pk.constraint_type as "Constraint",c.column_name as "Field", c.column_default as "Default",c.is_nullable as "Null", (CASE WHEN c.udt_name = 'hstore' THEN c.udt_name ELSE c.data_type END) || (CASE WHEN c.character_maximum_length IS NOT NULL THEN '(' || c.character_maximum_length || ')' ELSE '' END) as "Type", (SELECT array_agg(e.enumlabel) FROM pg_catalog.pg_type t JOIN pg_catalog.pg_enum e ON t.oid=e.enumtypid WHERE t.typname=c.udt_name) AS "special", (SELECT pgd.description FROM pg_catalog.pg_statio_all_tables AS st INNER JOIN pg_catalog.pg_description pgd on (pgd.objoid=st.relid) WHERE c.ordinal_position=pgd.objsubid AND c.table_name=st.relname) AS "Comment" FROM information_schema.columns c LEFT JOIN (SELECT tc.table_schema, tc.table_name, cu.column_name, tc.constraint_type FROM information_schema.TABLE_CONSTRAINTS tc JOIN information_schema.KEY_COLUMN_USAGE  cu ON tc.table_schema=cu.table_schema and tc.table_name=cu.table_name and tc.constraint_name=cu.constraint_name and tc.constraint_type='PRIMARY KEY') pk ON pk.table_schema=c.table_schema AND pk.table_name=c.table_name AND pk.column_name=c.column_name WHERE c.table_name = 'editorials' AND c.table_schema = 'public'
Executing (default): SELECT DISTINCT tc.constraint_name as constraint_name, tc.constraint_schema as constraint_schema, tc.constraint_catalog as constraint_catalog, tc.table_name as table_name,tc.table_schema as table_schema,tc.table_catalog as table_catalog,tc.initially_deferred as initially_deferred,tc.is_deferrable as is_deferrable,kcu.column_name as column_name,ccu.table_schema  AS referenced_table_schema,ccu.table_catalog  AS referenced_table_catalog,ccu.table_name  AS referenced_table_name,ccu.column_name AS referenced_column_name FROM information_schema.table_constraints AS tc JOIN information_schema.key_column_usage AS kcu ON tc.constraint_name = kcu.constraint_name JOIN information_schema.constraint_column_usage AS ccu ON ccu.constraint_name = tc.constraint_name WHERE constraint_type = 'FOREIGN KEY' AND tc.table_name = 'editorials' AND tc.table_catalog = 'solis_travel'
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "title" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "title" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "title" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "slug" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "slug" DROP DEFAULT;ALTER TABLE "editorials"  ADD UNIQUE ("slug");ALTER TABLE "editorials" ALTER COLUMN "slug" TYPE VARCHAR(255)  ;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "excerpt" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "excerpt" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "content" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "content" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "content" TYPE TEXT;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "author" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "author" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "author" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "tags" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "tags" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "tags" TYPE JSONB;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "status" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
[dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12 OFFSET 0;
[0mGET /api/hotels [32m200[0m 28.405 ms - 2410[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (29) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
T NULL;ALTER TABLE "editorials" ALTER COLUMN "status" SET DEFAULT 'draft';DO 'BEGIN CREATE TYPE "public"."enum_editorials_status" AS ENUM(''draft'', ''published''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "status" TYPE "public"."enum_editorials_status" USING ("status"::"public"."enum_editorials_status");
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "published_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "published_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "created_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "created_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "created_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "updated_at" SET NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "updated_at" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "updated_at" TYPE TIMESTAMP WITH TIME ZONE;
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_url" DROP DEFAULT;ALTER TABLE "editorials" ALTER COLUMN "hero_url" TYPE VARCHAR(255);
Executing (default): ALTER TABLE "editorials" ALTER COLUMN "hero_type" DROP NOT NULL;ALTER TABLE "editorials" ALTER COLUMN "hero_type" SET DEFAULT 'image';DO 'BEGIN CREATE TYPE "public"."enum_editorials_hero_type" AS ENUM(''image'', ''video''); EXCEPTION WHEN duplicate_object THEN null; END';ALTER TABLE "editorials" ALTER COLUMN "hero_type" TYPE "public"."enum_editorials_hero_type" USING ("hero_type"::"public"."enum_editorials_hero_type");
Executing (default): SELECT i.relname AS name, ix.indisprimary AS primary, ix.indisunique AS unique, ix.indkey AS indkey, array_agg(a.attnum) as column_indexes, array_agg(a.attname) AS column_names, pg_get_indexdef(ix.indexrelid) AS definition FROM pg_class t, pg_class i, pg_index ix, pg_attribute a WHERE t.oid = ix.indrelid AND i.oid = ix.indexrelid AND a.attrelid = t.oid AND t.relkind = 'r' and t.relname = 'editorials' GROUP BY i.relname, ix.indexrelid, ix.indisprimary, ix.indisunique, ix.indkey ORDER BY i.relname;
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent building .env in docker: https://dotenvx.com/prebuild
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  suppress all logs with { quiet: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."id" = 'd88c6d35-da88-4a3a-9c33-cfd418326383';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (e6a04346-f8b4-43a7-8410-9c946a65f66f): START TRANSACTION;
Executing (e6a04346-f8b4-43a7-8410-9c946a65f66f): INSERT INTO "orders" ("id","user_id","order_number","order_type","status","subtotal","tax_amount","shipping_amount","discount_amount","total","currency","payment_status","payment_method","shipping_address","billing_address","notes","booking_details","check_in","check_out","number_of_guests","special_requests","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23) RETURNING "id","user_id","order_number","order_type","status","subtotal","tax_amount","shipping_amount","discount_amount","total","currency","payment_status","payment_method","shipping_address","billing_address","notes","tracking_number","shipped_at","delivered_at","booking_details","check_in","check_out","number_of_guests","special_requests","created_at","updated_at";
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."id" = 'd88c6d35-da88-4a3a-9c33-cfd418326383';
Executing (e6a04346-f8b4-43a7-8410-9c946a65f66f): INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";
Executing (e6a04346-f8b4-43a7-8410-9c946a65f66f): COMMIT;
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."order_type" AS "orderType", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."booking_details" AS "bookingDetails", "Order"."check_in" AS "checkIn", "Order"."check_out" AS "checkOut", "Order"."number_of_guests" AS "numberOfGuests", "Order"."special_requests" AS "specialRequests", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."item_type" AS "items.itemType", "items"."product_id" AS "items.productId", "items"."hotel_id" AS "items.hotelId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."hotel_name" AS "items.hotelName", "items"."hotel_location" AS "items.hotelLocation", "items"."booking_dates" AS "items.bookingDates", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email" FROM "orders" AS "Order" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" WHERE "Order"."id" = '37a79bf7-0381-4de3-8fa8-9d186dbd5e70';
[0mPOST /api/bookings [32m201[0m 60.325 ms - -[0m
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true AND "Hotel"."special_offer" = true AND "Hotel"."offer_valid_until" >= '2025-11-05 01:40:40.329 +00:00' ORDER BY "displayOrder" ASC, "createdAt" DESC;
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
[0mGET /api/hotels/special-offers [36m304[0m 28.831 ms - -[0m
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true AND "Hotel"."special_offer" = true AND "Hotel"."offer_valid_until" >= '2025-11-05 01:40:40.361 +00:00' ORDER BY "displayOrder" ASC, "createdAt" DESC;
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 50 OFFSET 0;
[0mGET /api/hotels/special-offers [36m304[0m 14.107 ms - -[0m
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."popular" = true AND "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12;
[0mGET /api/hotels?limit=50 [36m304[0m 29.726 ms - -[0m
[0mGET /api/hotels/popular [36m304[0m 7.296 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 50 OFFSET 0;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."popular" = true AND "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12;
[0mGET /api/hotels?limit=50 [36m304[0m 14.875 ms - -[0m
[0mGET /api/hotels/popular [36m304[0m 6.529 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/auth/me [32m200[0m 5.415 ms - 328[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
[0mGET /api/auth/me [36m304[0m 3.197 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12 OFFSET 0;
[0mGET /api/hotels?page=1&limit=12 [36m304[0m 7.868 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12 OFFSET 0;
[0mGET /api/hotels?page=1&limit=12 [36m304[0m 7.368 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count("Order"."id") AS "count" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" LEFT OUTER JOIN "hotels" AS "items->hotel" ON "items"."hotel_id" = "items->hotel"."id";
Executing (default): SELECT "Order".*, "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."item_type" AS "items.itemType", "items"."product_id" AS "items.productId", "items"."hotel_id" AS "items.hotelId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."hotel_name" AS "items.hotelName", "items"."hotel_location" AS "items.hotelLocation", "items"."booking_dates" AS "items.bookingDates", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "items->product"."id" AS "items.product.id", "items->product"."name" AS "items.product.name", "items->product"."slug" AS "items.product.slug", "items->variant"."id" AS "items.variant.id", "items->variant"."name" AS "items.variant.name", "items->hotel"."id" AS "items.hotel.id", "items->hotel"."name" AS "items.hotel.name", "items->hotel"."slug" AS "items.hotel.slug", "items->hotel"."location" AS "items.hotel.location" FROM (SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."order_type" AS "orderType", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."booking_details" AS "bookingDetails", "Order"."check_in" AS "checkIn", "Order"."check_out" AS "checkOut", "Order"."number_of_guests" AS "numberOfGuests", "Order"."special_requests" AS "specialRequests", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt" FROM "orders" AS "Order" ORDER BY "Order"."created_at" DESC LIMIT 10 OFFSET 0) AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."userId" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" LEFT OUTER JOIN "hotels" AS "items->hotel" ON "items"."hotel_id" = "items->hotel"."id" ORDER BY "createdAt" DESC;
[0mGET /api/orders?page=1&limit=10&search=&status=&paymentStatus=&dateRange= [32m200[0m 28.150 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT count("Order"."id") AS "count" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" LEFT OUTER JOIN "hotels" AS "items->hotel" ON "items"."hotel_id" = "items->hotel"."id";
Executing (default): SELECT "Order".*, "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."item_type" AS "items.itemType", "items"."product_id" AS "items.productId", "items"."hotel_id" AS "items.hotelId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."hotel_name" AS "items.hotelName", "items"."hotel_location" AS "items.hotelLocation", "items"."booking_dates" AS "items.bookingDates", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "items->product"."id" AS "items.product.id", "items->product"."name" AS "items.product.name", "items->product"."slug" AS "items.product.slug", "items->variant"."id" AS "items.variant.id", "items->variant"."name" AS "items.variant.name", "items->hotel"."id" AS "items.hotel.id", "items->hotel"."name" AS "items.hotel.name", "items->hotel"."slug" AS "items.hotel.slug", "items->hotel"."location" AS "items.hotel.location" FROM (SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."order_type" AS "orderType", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."booking_details" AS "bookingDetails", "Order"."check_in" AS "checkIn", "Order"."check_out" AS "checkOut", "Order"."number_of_guests" AS "numberOfGuests", "Order"."special_requests" AS "specialRequests", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt" FROM "orders" AS "Order" ORDER BY "Order"."created_at" DESC LIMIT 10 OFFSET 0) AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."userId" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" LEFT OUTER JOIN "hotels" AS "items->hotel" ON "items"."hotel_id" = "items->hotel"."id" ORDER BY "createdAt" DESC;
[0mGET /api/orders?page=1&limit=10&search=&status=&paymentStatus=&dateRange= [36m304[0m 14.090 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."order_type" AS "orderType", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."booking_details" AS "bookingDetails", "Order"."check_in" AS "checkIn", "Order"."check_out" AS "checkOut", "Order"."number_of_guests" AS "numberOfGuests", "Order"."special_requests" AS "specialRequests", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."item_type" AS "items.itemType", "items"."product_id" AS "items.productId", "items"."hotel_id" AS "items.hotelId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."hotel_name" AS "items.hotelName", "items"."hotel_location" AS "items.hotelLocation", "items"."booking_dates" AS "items.bookingDates", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "items->product"."id" AS "items.product.id", "items->product"."name" AS "items.product.name", "items->product"."slug" AS "items.product.slug", "items->product"."description" AS "items.product.description", "items->variant"."id" AS "items.variant.id", "items->variant"."name" AS "items.variant.name", "items->variant"."attributes" AS "items.variant.attributes", "items->hotel"."id" AS "items.hotel.id", "items->hotel"."name" AS "items.hotel.name", "items->hotel"."slug" AS "items.hotel.slug", "items->hotel"."location" AS "items.hotel.location" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" LEFT OUTER JOIN "hotels" AS "items->hotel" ON "items"."hotel_id" = "items->hotel"."id" WHERE "Order"."id" = '37a79bf7-0381-4de3-8fa8-9d186dbd5e70';
[0mGET /api/orders/37a79bf7-0381-4de3-8fa8-9d186dbd5e70 [32m200[0m 11.727 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."order_type" AS "orderType", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."booking_details" AS "bookingDetails", "Order"."check_in" AS "checkIn", "Order"."check_out" AS "checkOut", "Order"."number_of_guests" AS "numberOfGuests", "Order"."special_requests" AS "specialRequests", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."item_type" AS "items.itemType", "items"."product_id" AS "items.productId", "items"."hotel_id" AS "items.hotelId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."hotel_name" AS "items.hotelName", "items"."hotel_location" AS "items.hotelLocation", "items"."booking_dates" AS "items.bookingDates", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt", "items->product"."id" AS "items.product.id", "items->product"."name" AS "items.product.name", "items->product"."slug" AS "items.product.slug", "items->product"."description" AS "items.product.description", "items->variant"."id" AS "items.variant.id", "items->variant"."name" AS "items.variant.name", "items->variant"."attributes" AS "items.variant.attributes", "items->hotel"."id" AS "items.hotel.id", "items->hotel"."name" AS "items.hotel.name", "items->hotel"."slug" AS "items.hotel.slug", "items->hotel"."location" AS "items.hotel.location" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" LEFT OUTER JOIN "products" AS "items->product" ON "items"."product_id" = "items->product"."id" LEFT OUTER JOIN "product_variants" AS "items->variant" ON "items"."variant_id" = "items->variant"."id" LEFT OUTER JOIN "hotels" AS "items->hotel" ON "items"."hotel_id" = "items->hotel"."id" WHERE "Order"."id" = '37a79bf7-0381-4de3-8fa8-9d186dbd5e70';
[0mGET /api/orders/37a79bf7-0381-4de3-8fa8-9d186dbd5e70 [36m304[0m 7.986 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = '550e8400-e29b-41d4-a716-446655440001';
Executing (default): SELECT "Order"."id", "Order"."user_id" AS "userId", "Order"."order_number" AS "orderNumber", "Order"."order_type" AS "orderType", "Order"."status", "Order"."subtotal", "Order"."tax_amount" AS "taxAmount", "Order"."shipping_amount" AS "shippingAmount", "Order"."discount_amount" AS "discountAmount", "Order"."total", "Order"."currency", "Order"."payment_status" AS "paymentStatus", "Order"."payment_method" AS "paymentMethod", "Order"."shipping_address" AS "shippingAddress", "Order"."billing_address" AS "billingAddress", "Order"."notes", "Order"."tracking_number" AS "trackingNumber", "Order"."shipped_at" AS "shippedAt", "Order"."delivered_at" AS "deliveredAt", "Order"."booking_details" AS "bookingDetails", "Order"."check_in" AS "checkIn", "Order"."check_out" AS "checkOut", "Order"."number_of_guests" AS "numberOfGuests", "Order"."special_requests" AS "specialRequests", "Order"."created_at" AS "createdAt", "Order"."updated_at" AS "updatedAt", "user"."id" AS "user.id", "user"."first_name" AS "user.firstName", "user"."last_name" AS "user.lastName", "user"."email" AS "user.email", "items"."id" AS "items.id", "items"."order_id" AS "items.orderId", "items"."item_type" AS "items.itemType", "items"."product_id" AS "items.productId", "items"."hotel_id" AS "items.hotelId", "items"."variant_id" AS "items.variantId", "items"."quantity" AS "items.quantity", "items"."price" AS "items.price", "items"."total" AS "items.total", "items"."product_name" AS "items.productName", "items"."variant_name" AS "items.variantName", "items"."sku" AS "items.sku", "items"."weight" AS "items.weight", "items"."attributes" AS "items.attributes", "items"."hotel_name" AS "items.hotelName", "items"."hotel_location" AS "items.hotelLocation", "items"."booking_dates" AS "items.bookingDates", "items"."created_at" AS "items.createdAt", "items"."updated_at" AS "items.updatedAt" FROM "orders" AS "Order" LEFT OUTER JOIN "users" AS "user" ON "Order"."user_id" = "user"."id" LEFT OUTER JOIN "order_items" AS "items" ON "Order"."id" = "items"."order_id" WHERE "Order"."id" = '37a79bf7-0381-4de3-8fa8-9d186dbd5e70';
Logo not found, using text fallback
[0mGET /api/orders/37a79bf7-0381-4de3-8fa8-9d186dbd5e70/invoice.pdf [32m200[0m 1415.263 ms - 164298[0m
SIGTERM received, shutting down gracefully
name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
    parameters: [
      '7f03f8e5-4bae-4b38-a12b-909c4449de5a',
      'c6ce96e6-b186-44a9-8008-dde54a621801',
      'hotel',
      null,
      'd88c6d35-da88-4a3a-9c33-cfd418326383',
      2,
      29.99,
      59.98,
      'Mandarin Oriental, Munich',
      'HOTEL-mandarin-oriental-munich',
      '{"adults":2,"children":2,"guests":4}',
      'Mandarin Oriental, Munich',
      'USA',
      '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-07T00:00:00.000Z","nights":2}',
      '2025-11-05 01:38:01.867 +00:00',
      '2025-11-05 01:38:01.867 +00:00'
    ]
  },
  sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
  parameters: [
    '7f03f8e5-4bae-4b38-a12b-909c4449de5a',
    'c6ce96e6-b186-44a9-8008-dde54a621801',
    'hotel',
    null,
    'd88c6d35-da88-4a3a-9c33-cfd418326383',
    2,
    29.99,
    59.98,
    'Mandarin Oriental, Munich',
    'HOTEL-mandarin-oriental-munich',
    '{"adults":2,"children":2,"guests":4}',
    'Mandarin Oriental, Munich',
    'USA',
    '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-07T00:00:00.000Z","nights":2}',
    '2025-11-05 01:38:01.867 +00:00',
    '2025-11-05 01:38:01.867 +00:00'
  ]
}
[0mPOST /api/bookings [31m500[0m 48.904 ms - 157[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."slug" = 'mandarin-oriental-munich' AND "Hotel"."is_active" = true;
[0mGET /api/auth/me [32m200[0m 4.962 ms - 331[0m
[0mGET /api/hotels/mandarin-oriental-munich [36m304[0m 12.874 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
[0mGET /api/auth/me [36m304[0m 8.993 ms - -[0m
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."slug" = 'mandarin-oriental-munich' AND "Hotel"."is_active" = true;
[0mGET /api/hotels/mandarin-oriental-munich [36m304[0m 10.207 ms - -[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."id" = 'd88c6d35-da88-4a3a-9c33-cfd418326383';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (1b7b5ebb-c13c-4247-92ac-7d5d34657469): START TRANSACTION;
Executing (1b7b5ebb-c13c-4247-92ac-7d5d34657469): INSERT INTO "orders" ("id","user_id","order_number","order_type","status","subtotal","tax_amount","shipping_amount","discount_amount","total","currency","payment_status","payment_method","shipping_address","billing_address","notes","booking_details","check_in","check_out","number_of_guests","special_requests","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23) RETURNING "id","user_id","order_number","order_type","status","subtotal","tax_amount","shipping_amount","discount_amount","total","currency","payment_status","payment_method","shipping_address","billing_address","notes","tracking_number","shipped_at","delivered_at","booking_details","check_in","check_out","number_of_guests","special_requests","created_at","updated_at";
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."id" = 'd88c6d35-da88-4a3a-9c33-cfd418326383';
Executing (1b7b5ebb-c13c-4247-92ac-7d5d34657469): INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";
Executing (1b7b5ebb-c13c-4247-92ac-7d5d34657469): ROLLBACK;
Create booking error: Error
    at Query.run (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/model.js:2490:35)
    at async OrderItem.create (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/model.js:1362:12)
    at async /home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/src/routes/bookings.js:127:7 {
  name: 'SequelizeDatabaseError',
  parent: error: null value in column "product_id" of relation "order_items" violates not-null constraint
      at Parser.parseErrorMessage (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:285:98)
      at Parser.handlePacket (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:122:29)
      at Parser.parse (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:35:38)
      at Socket.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/index.js:11:42)
      at Socket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 629,
    severity: 'ERROR',
    code: '23502',
    detail: 'Failing row contains (1ff50080-31ad-4aa9-b43c-27c26c6416aa, 42f4fe26-d3cb-4845-bd80-e2d441c63989, null, null, 1, 29.99, 29.99, Mandarin Oriental, Munich, null, HOTEL-mandarin-oriental-munich, null, {"adults": 2, "guests": 3, "children": 1}, 2025-11-05 01:38:29.678+00, 2025-11-05 01:38:29.678+00, hotel, d88c6d35-da88-4a3a-9c33-cfd418326383, Mandarin Oriental, Munich, USA, {"nights": 1, "checkIn": "2025-11-05T00:00:00.000Z", "checkOut":...).',
    hint: undefined,
    position: undefined,
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: 'public',
    table: 'order_items',
    column: 'product_id',
    dataType: undefined,
    constraint: undefined,
    file: 'execMain.c',
    line: '1886',
    routine: 'ExecConstraints',
    sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
    parameters: [
      '1ff50080-31ad-4aa9-b43c-27c26c6416aa',
      '42f4fe26-d3cb-4845-bd80-e2d441c63989',
      'hotel',
      null,
      'd88c6d35-da88-4a3a-9c33-cfd418326383',
      1,
      29.99,
      29.99,
      'Mandarin Oriental, Munich',
      'HOTEL-mandarin-oriental-munich',
      '{"adults":2,"children":1,"guests":3}',
      'Mandarin Oriental, Munich',
      'USA',
      '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-06T00:00:00.000Z","nights":1}',
      '2025-11-05 01:38:29.678 +00:00',
      '2025-11-05 01:38:29.678 +00:00'
    ]
  },
  original: error: null value in column "product_id" of relation "order_items" violates not-null constraint
      at Parser.parseErrorMessage (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:285:98)
      at Parser.handlePacket (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:122:29)
      at Parser.parse (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:35:38)
      at Socket.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/index.js:11:42)
      at Socket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 629,
    severity: 'ERROR',
    code: '23502',
    detail: 'Failing row contains (1ff50080-31ad-4aa9-b43c-27c26c6416aa, 42f4fe26-d3cb-4845-bd80-e2d441c63989, null, null, 1, 29.99, 29.99, Mandarin Oriental, Munich, null, HOTEL-mandarin-oriental-munich, null, {"adults": 2, "guests": 3, "children": 1}, 2025-11-05 01:38:29.678+00, 2025-11-05 01:38:29.678+00, hotel, d88c6d35-da88-4a3a-9c33-cfd418326383, Mandarin Oriental, Munich, USA, {"nights": 1, "checkIn": "2025-11-05T00:00:00.000Z", "checkOut":...).',
    hint: undefined,
    position: undefined,
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: 'public',
    table: 'order_items',
    column: 'product_id',
    dataType: undefined,
    constraint: undefined,
    file: 'execMain.c',
    line: '1886',
    routine: 'ExecConstraints',
    sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
    parameters: [
      '1ff50080-31ad-4aa9-b43c-27c26c6416aa',
      '42f4fe26-d3cb-4845-bd80-e2d441c63989',
      'hotel',
      null,
      'd88c6d35-da88-4a3a-9c33-cfd418326383',
      1,
      29.99,
      29.99,
      'Mandarin Oriental, Munich',
      'HOTEL-mandarin-oriental-munich',
      '{"adults":2,"children":1,"guests":3}',
      'Mandarin Oriental, Munich',
      'USA',
      '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-06T00:00:00.000Z","nights":1}',
      '2025-11-05 01:38:29.678 +00:00',
      '2025-11-05 01:38:29.678 +00:00'
    ]
  },
  sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
  parameters: [
    '1ff50080-31ad-4aa9-b43c-27c26c6416aa',
    '42f4fe26-d3cb-4845-bd80-e2d441c63989',
    'hotel',
    null,
    'd88c6d35-da88-4a3a-9c33-cfd418326383',
    1,
    29.99,
    29.99,
    'Mandarin Oriental, Munich',
    'HOTEL-mandarin-oriental-munich',
    '{"adults":2,"children":1,"guests":3}',
    'Mandarin Oriental, Munich',
    'USA',
    '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-06T00:00:00.000Z","nights":1}',
    '2025-11-05 01:38:29.678 +00:00',
    '2025-11-05 01:38:29.678 +00:00'
  ]
}
[0mPOST /api/bookings [31m500[0m 36.791 ms - 157[0m
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."id" = 'd88c6d35-da88-4a3a-9c33-cfd418326383';
Executing (default): SELECT "id", "email", "password", "first_name" AS "firstName", "last_name" AS "lastName", "phone", "role", "is_active" AS "isActive", "email_verified" AS "emailVerified", "last_login" AS "lastLogin", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "users" AS "User" WHERE "User"."id" = 'cc5704a6-fd78-4038-9b79-75f3ad6284c8';
Executing (f079ffce-f2f4-4158-9d16-9d66ea15f5be): START TRANSACTION;
Executing (f079ffce-f2f4-4158-9d16-9d66ea15f5be): INSERT INTO "orders" ("id","user_id","order_number","order_type","status","subtotal","tax_amount","shipping_amount","discount_amount","total","currency","payment_status","payment_method","shipping_address","billing_address","notes","booking_details","check_in","check_out","number_of_guests","special_requests","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16,$17,$18,$19,$20,$21,$22,$23) RETURNING "id","user_id","order_number","order_type","status","subtotal","tax_amount","shipping_amount","discount_amount","total","currency","payment_status","payment_method","shipping_address","billing_address","notes","tracking_number","shipped_at","delivered_at","booking_details","check_in","check_out","number_of_guests","special_requests","created_at","updated_at";
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."id" = 'd88c6d35-da88-4a3a-9c33-cfd418326383';
Executing (f079ffce-f2f4-4158-9d16-9d66ea15f5be): INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";
Executing (f079ffce-f2f4-4158-9d16-9d66ea15f5be): ROLLBACK;
Create booking error: Error
    at Query.run (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/sequelize.js:315:28
    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)
    at async PostgresQueryInterface.insert (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/dialects/abstract/query-interface.js:308:21)
    at async model.save (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/model.js:2490:35)
    at async OrderItem.create (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/sequelize/lib/model.js:1362:12)
    at async /home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/src/routes/bookings.js:127:7 {
  name: 'SequelizeDatabaseError',
  parent: error: null value in column "product_id" of relation "order_items" violates not-null constraint
      at Parser.parseErrorMessage (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:285:98)
      at Parser.handlePacket (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:122:29)
      at Parser.parse (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:35:38)
      at Socket.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/index.js:11:42)
      at Socket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 629,
    severity: 'ERROR',
    code: '23502',
    detail: 'Failing row contains (7d488b5a-16b2-4ea0-8de0-a347fa5d7645, c236d6a9-cae5-437e-bf31-9a92a222290a, null, null, 1, 29.99, 29.99, Mandarin Oriental, Munich, null, HOTEL-mandarin-oriental-munich, null, {"adults": 2, "guests": 3, "children": 1}, 2025-11-05 01:38:50.884+00, 2025-11-05 01:38:50.884+00, hotel, d88c6d35-da88-4a3a-9c33-cfd418326383, Mandarin Oriental, Munich, USA, {"nights": 1, "checkIn": "2025-11-05T00:00:00.000Z", "checkOut":...).',
    hint: undefined,
    position: undefined,
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: 'public',
    table: 'order_items',
    column: 'product_id',
    dataType: undefined,
    constraint: undefined,
    file: 'execMain.c',
    line: '1886',
    routine: 'ExecConstraints',
    sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
    parameters: [
      '7d488b5a-16b2-4ea0-8de0-a347fa5d7645',
      'c236d6a9-cae5-437e-bf31-9a92a222290a',
      'hotel',
      null,
      'd88c6d35-da88-4a3a-9c33-cfd418326383',
      1,
      29.99,
      29.99,
      'Mandarin Oriental, Munich',
      'HOTEL-mandarin-oriental-munich',
      '{"adults":2,"children":1,"guests":3}',
      'Mandarin Oriental, Munich',
      'USA',
      '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-06T00:00:00.000Z","nights":1}',
      '2025-11-05 01:38:50.884 +00:00',
      '2025-11-05 01:38:50.884 +00:00'
    ]
  },
  original: error: null value in column "product_id" of relation "order_items" violates not-null constraint
      at Parser.parseErrorMessage (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:285:98)
      at Parser.handlePacket (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:122:29)
      at Parser.parse (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/parser.js:35:38)
      at Socket.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/pg-protocol/dist/index.js:11:42)
      at Socket.emit (node:events:524:28)
      at addChunk (node:internal/streams/readable:561:12)
      at readableAddChunkPushByteMode (node:internal/streams/readable:512:3)
      at Readable.push (node:internal/streams/readable:392:5)
      at TCP.onStreamRead (node:internal/stream_base_commons:191:23) {
    length: 629,
    severity: 'ERROR',
    code: '23502',
    detail: 'Failing row contains (7d488b5a-16b2-4ea0-8de0-a347fa5d7645, c236d6a9-cae5-437e-bf31-9a92a222290a, null, null, 1, 29.99, 29.99, Mandarin Oriental, Munich, null, HOTEL-mandarin-oriental-munich, null, {"adults": 2, "guests": 3, "children": 1}, 2025-11-05 01:38:50.884+00, 2025-11-05 01:38:50.884+00, hotel, d88c6d35-da88-4a3a-9c33-cfd418326383, Mandarin Oriental, Munich, USA, {"nights": 1, "checkIn": "2025-11-05T00:00:00.000Z", "checkOut":...).',
    hint: undefined,
    position: undefined,
    internalPosition: undefined,
    internalQuery: undefined,
    where: undefined,
    schema: 'public',
    table: 'order_items',
    column: 'product_id',
    dataType: undefined,
    constraint: undefined,
    file: 'execMain.c',
    line: '1886',
    routine: 'ExecConstraints',
    sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
    parameters: [
      '7d488b5a-16b2-4ea0-8de0-a347fa5d7645',
      'c236d6a9-cae5-437e-bf31-9a92a222290a',
      'hotel',
      null,
      'd88c6d35-da88-4a3a-9c33-cfd418326383',
      1,
      29.99,
      29.99,
      'Mandarin Oriental, Munich',
      'HOTEL-mandarin-oriental-munich',
      '{"adults":2,"children":1,"guests":3}',
      'Mandarin Oriental, Munich',
      'USA',
      '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-06T00:00:00.000Z","nights":1}',
      '2025-11-05 01:38:50.884 +00:00',
      '2025-11-05 01:38:50.884 +00:00'
    ]
  },
  sql: 'INSERT INTO "order_items" ("id","order_id","item_type","product_id","hotel_id","quantity","price","total","product_name","sku","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at") VALUES ($1,$2,$3,$4,$5,$6,$7,$8,$9,$10,$11,$12,$13,$14,$15,$16) RETURNING "id","order_id","item_type","product_id","hotel_id","variant_id","quantity","price","total","product_name","variant_name","sku","weight","attributes","hotel_name","hotel_location","booking_dates","created_at","updated_at";',
  parameters: [
    '7d488b5a-16b2-4ea0-8de0-a347fa5d7645',
    'c236d6a9-cae5-437e-bf31-9a92a222290a',
    'hotel',
    null,
    'd88c6d35-da88-4a3a-9c33-cfd418326383',
    1,
    29.99,
    29.99,
    'Mandarin Oriental, Munich',
    'HOTEL-mandarin-oriental-munich',
    '{"adults":2,"children":1,"guests":3}',
    'Mandarin Oriental, Munich',
    'USA',
    '{"checkIn":"2025-11-05T00:00:00.000Z","checkOut":"2025-11-06T00:00:00.000Z","nights":1}',
    '2025-11-05 01:38:50.884 +00:00',
    '2025-11-05 01:38:50.884 +00:00'
  ]
}
[0mPOST /api/bookings [31m500[0m 33.947 ms - 157[0m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] restarting due to changes...[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m
[32m[nodemon] restarting child process[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
node:events:502
      throw er; // Unhandled 'error' event
      ^

Error: listen EADDRINUSE: address already in use :::5000
    at Server.setupListenHandle [as _listen2] (node:net:1908:16)
    at listenInCluster (node:net:1965:12)
    at Server.listen (node:net:2067:7)
    at Function.listen (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/node_modules/express/lib/application.js:635:24)
    at Object.<anonymous> (/home/huraira/Projects/Travel_App/ecommerce-backend-admin-PERN-main/server/server.js:5:5)
    at Module._compile (node:internal/modules/cjs/loader:1521:14)
    at Module._extensions..js (node:internal/modules/cjs/loader:1623:10)
    at Module.load (node:internal/modules/cjs/loader:1266:32)
    at Module._load (node:internal/modules/cjs/loader:1091:12)
    at Function.executeUserEntryPoint [as runMain] (node:internal/modules/run_main:164:12)
Emitted 'error' event on Server instance at:
    at emitErrorNT (node:net:1944:8)
    at process.processTicksAndRejections (node:internal/process/task_queues:82:21) {
  code: 'EADDRINUSE',
  errno: -98,
  syscall: 'listen',
  address: '::',
  port: 5000
}

Node.js v20.19.5
[31m[nodemon] app crashed - waiting for file changes before starting...[39m

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[0mGET /api/auth/me [33m401[0m 3.976 ms - 42[0m
[0mGET /api/auth/me [33m401[0m 1.224 ms - 42[0m
SIGINT received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  specify custom .env file path with { path: '/custom/path/.env' }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
SIGINT received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
SIGINT received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° version env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  load multiple .env files with { path: ['.env.local', '.env'] }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting child process[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° observe env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
SIGTERM received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: üîê prevent committing .env to code: https://dotenvx.com/precommit
[dotenv@17.2.1] injecting env (0) from .env -- tip: üõ†Ô∏è  run anywhere with `dotenvx run -- yourcommand`
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true AND "Hotel"."special_offer" = true AND "Hotel"."offer_valid_until" >= '2025-11-11 12:44:50.109 +00:00' ORDER BY "displayOrder" ASC, "createdAt" DESC;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."popular" = true AND "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12;
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 50 OFFSET 0;
[0mGET /api/hotels/popular [36m304[0m 61.294 ms - -[0m
[0mGET /api/hotels?limit=50 [36m304[0m 68.802 ms - -[0m
[0mGET /api/hotels/special-offers [36m304[0m 97.197 ms - -[0m
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."popular" = true AND "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 12;
Executing (default): SELECT count(DISTINCT("id")) AS "count" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true ORDER BY "displayOrder" ASC, "createdAt" DESC LIMIT 50 OFFSET 0;
Executing (default): SELECT "id", "name", "slug", "location", "city", "country", "description", "short_description" AS "shortDescription", "images", "main_image" AS "mainImage", "special_offer" AS "specialOffer", "offer_title" AS "offerTitle", "offer_details" AS "offerDetails", "offer_valid_until" AS "offerValidUntil", "offer_booking_deadline" AS "offerBookingDeadline", "offer_blackout_dates" AS "offerBlackoutDates", "price", "currency", "vip_benefits" AS "vipBenefits", "hotel_details" AS "hotelDetails", "featured", "popular", "display_order" AS "displayOrder", "is_active" AS "isActive", "meta_title" AS "metaTitle", "meta_description" AS "metaDescription", "created_at" AS "createdAt", "updated_at" AS "updatedAt" FROM "hotels" AS "Hotel" WHERE "Hotel"."is_active" = true AND "Hotel"."special_offer" = true AND "Hotel"."offer_valid_until" >= '2025-11-11 12:44:50.222 +00:00' ORDER BY "displayOrder" ASC, "createdAt" DESC;
[0mGET /api/hotels/popular [36m304[0m 19.073 ms - -[0m
[0mGET /api/hotels?limit=50 [36m304[0m 15.658 ms - -[0m
[0mGET /api/hotels/special-offers [36m304[0m 10.098 ms - -[0m
Executing (default): SELECT count(*) AS "count" FROM "editorials" AS "Editorial" WHERE "Editorial"."status" = 'published';
Executing (default): SELECT "id", "title", "slug", "excerpt", "hero_url" AS "heroUrl", "hero_type" AS "heroType", "author", "published_at" AS "publishedAt", "tags" FROM "editorials" AS "Editorial" WHERE "Editorial"."status" = 'published' ORDER BY "publishedAt" DESC LIMIT 12 OFFSET 0;
[0mGET /api/editorials?page=1&limit=12 [36m304[0m 31.956 ms - -[0m
Executing (default): SELECT count(*) AS "count" FROM "editorials" AS "Editorial" WHERE "Editorial"."status" = 'published';
Executing (default): SELECT "id", "title", "slug", "excerpt", "hero_url" AS "heroUrl", "hero_type" AS "heroType", "author", "published_at" AS "publishedAt", "tags" FROM "editorials" AS "Editorial" WHERE "Editorial"."status" = 'published' ORDER BY "publishedAt" DESC LIMIT 12 OFFSET 0;
[0mGET /api/editorials?page=1&limit=12 [36m304[0m 6.352 ms - -[0m
[0mGET /uploads/1761894492393-7iy07i.mp4 [32m206[0m 8.949 ms - 6458222[0m
[32m[nodemon] restarting child process[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üîê encrypt with Dotenvx: https://dotenvx.com
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
SIGTERM received, shutting down gracefully

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  override existing env vars with { override: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: ‚öôÔ∏è  write to custom object with { processEnv: myObject }
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
[32m[nodemon] restarting child process[39m
[32m[nodemon] starting `node server.js`[39m

> server@1.0.0 dev
> nodemon server.js

[33m[nodemon] 3.1.10[39m
[33m[nodemon] to restart at any time, enter `rs`[39m
[33m[nodemon] watching path(s): *.*[39m
[33m[nodemon] watching extensions: js,mjs,cjs,json[39m
[32m[nodemon] starting `node server.js`[39m
[dotenv@17.2.1] injecting env (28) from .env -- tip: ‚öôÔ∏è  enable debug logging with { debug: true }
[dotenv@17.2.1] injecting env (0) from .env -- tip: üì° auto-backup env with Radar: https://dotenvx.com/radar
üöÄ Ecommerce API server running on port 5000
üìä Environment: development
üîó API Base URL: http://localhost:5000
üè• Health Check: http://localhost:5000/health
üìö API Documentation: http://localhost:5000/api/docs
Executing (default): SELECT 1+1 AS result
Database connection has been established successfully.
Database initialized successfully
